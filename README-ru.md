

# ifcexport2 



---

—è–∑—ã–∫: [üá∫üá∏](README.md) [ üá∑üá∫](README-ru.md)

![CXM Viewer](examples/Screenshot 2024-12-09 at 23.19.15.png)


–≠—Ç–æ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ñ–∞–π–ª—ã IFC –∏ —Å–æ–∑–¥–∞–µ—Ç —Ñ–∞–π–ª—ã JSON, —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ —Å CXM Viewer.

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
‚Üí
–°—É—â–µ—Å—Ç–≤—É–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–ø–æ—Å–æ–±–æ–≤ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ ifcexport2, –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –í–∞—à–∏—Ö –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–µ–π –∏ —É—Ä–æ–≤–Ω—è –æ–ø—ã—Ç–∞. –í—ã–±–µ—Ä–∏—Ç–µ —Ç–æ—Ç —Å–ø–æ—Å–æ–±, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–¥—Ö–æ–¥–∏—Ç –í–∞–º –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ.

### –ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —É—Å–ª–æ–≤–∏—è

- Python 3.10, 3.11 –∏–ª–∏ 3.12
- –ë–∞–∑–æ–≤–æ–µ –∑–Ω–∞–∫–æ–º—Å—Ç–≤–æ —Å –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–æ–π (—Ç–µ—Ä–º–∏–Ω–∞–ª)
  - –í Windows: –ù–∞–∂–º–∏—Ç–µ Win+R, –≤–≤–µ–¥–∏—Ç–µ ¬´cmd¬ª –∏ –Ω–∞–∂–º–∏—Ç–µ Enter.
  - –ù–∞ Mac: –ù–∞–∂–º–∏—Ç–µ Cmd+Space, –≤–≤–µ–¥–∏—Ç–µ ¬´terminal¬ª –∏ –Ω–∞–∂–º–∏—Ç–µ Enter.
  - –í Linux: –ù–∞–∂–º–∏—Ç–µ Ctrl+Alt+T

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ü—Ä–æ—Å—Ç–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ (pip)

–≠—Ç–æ —Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π –º–µ—Ç–æ–¥, –µ—Å–ª–∏ –í—ã –ø—Ä–æ—Å—Ç–æ —Ö–æ—Ç–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∏–∑ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ (–∞ –Ω–µ –∫–∞–∫ –º–æ–¥—É–ª—å –≤ –≤–∞—à–µ–º python –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏):

```bash
pip install git+https://github.com/contextmachine/ifcexport2 
```

> :warning: **Warning**: <br>
–ù–∞ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, macOS) –í—ã –º–æ–∂–µ—Ç–µ —Å—Ç–æ–ª–∫–Ω—É—Ç—å—Å—è —Å –æ—à–∏–±–∫–æ–π, –∫–æ–≥–¥–∞ python –±—É–¥–µ—Ç –∂–∞–ª–æ–≤–∞—Ç—å—Å—è, —á—Ç–æ –í—ã –ø—ã—Ç–∞–µ—Ç–µ—Å—å —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —á—Ç–æ-—Ç–æ –≤ —Å–∏—Å—Ç–µ–º–Ω—ã–π –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä.
–í —ç—Ç–æ–º —Å–ª—É—á–∞–µ —É –í–∞—Å –µ—Å—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã:
    1. `pip install --user git+https://github.com/contextmachine/ifcexport2` –≠—Ç–æ –º–æ–∂–µ—Ç —Å—Ä–∞–±–æ—Ç–∞—Ç—å, –∞ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ —Ç–æ–π –∂–µ –æ—à–∏–±–∫–µ. –ë—É–¥—å—Ç–µ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω—ã, –∫–∞—Ç–∞–ª–æ–≥ ~/.local/.bin –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ PATH.
    2. `pipx install git+https://github.com/contextmachine/ifcexport2` –≠—Ç–æ —Ö–æ—Ä–æ—à–∏–π —Å–ø–æ—Å–æ–±, –∫–æ—Ç–æ—Ä—ã–π –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –í–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `pipx`.
    3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `--break-system-packages` (–Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è). –≠—Ç–æ –∑–∞—Å—Ç–∞–≤–∏—Ç pip —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–∞–∫–µ—Ç –≤ —Å–∏—Å—Ç–µ–º–Ω—ã–π –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä, –Ω–æ –Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è, –ø–æ—Å–∫–æ–ª—å–∫—É –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ —Å–ª–æ–∂–Ω—ã–º –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π. –†–µ—à–∞—Ç—å –í–∞–º.
    4. –ö—Ä–æ–º–µ —Ç–æ–≥–æ, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏–ª–∏ conda —Ä–µ—à–∏—Ç —ç—Ç—É –ø—Ä–æ–±–ª–µ–º—É. –ß–∏—Ç–∞–π—Ç–µ –æ–± —ç—Ç–æ–º –ø–æ–¥—Ä–æ–±–Ω–µ–µ.


–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –í—ã –º–æ–∂–µ—Ç–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –Ω–∞–ø—Ä—è–º—É—é:
```bash
ifcexport2 my_building.ifc
```


### –í–∞—Ä–∏–∞–Ω—Ç 2: –í–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è —Å—Ä–µ–¥–∞ (venv)

–≠—Ç–æ—Ç –º–µ—Ç–æ–¥ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–∑–æ–ª–∏—Ä–æ–≤–∞—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É –æ—Ç –í–∞—à–µ–π —Å–∏—Å—Ç–µ–º—ã Python:

```bash
# –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é –≤–∏—Ä—Ç—É–∞–ª—å–Ω—É—é —Å—Ä–µ–¥—É
python -m venv ifcexport2_env

# –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ —Å—Ä–µ–¥—É
# –í Windows:
ifcexport2_env\Scripts\activate
# –ù–∞ Mac/Linux:
source ifcexport2_env/bin/activate

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–∞–∫–µ—Ç
pip install git+https://github.com/contextmachine/ifcexport2 

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç
ifcexport2 my_building.ifc

# –ü–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –¥–µ–∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
deactivate
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –û–∫—Ä—É–∂–µ–Ω–∏–µ Conda

–ï—Å–ª–∏ –í—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Anaconda –∏–ª–∏ Miniconda:

```bash
# –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ conda
conda create -n ifcexport2_env python=3.12

# –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
conda activate ifcexport2_env

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–∞–∫–µ—Ç—ã
conda install -c conda-forge cgal ifcopenshell pythonocc-core lark
pip install git+https://github.com/contextmachine/ifcexport2 

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç
ifcexport2 my_building.ifc

# –ü–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏
conda deactivate
```

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

–û—Å–Ω–æ–≤–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–º–∞–Ω–¥ –≤—ã–≥–ª—è–¥–∏—Ç —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:
```bash
ifcexport2 [options] input_file.ifc
```

### –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ IFC —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:
```bash
ifcexport2 my_building.ifc
```

### –ü—Ä–∏–º–µ—Ä—ã —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

1. –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–∏ –∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö —Ç–∏–ø–æ–≤ IFC:
```bash
ifcexport2 -s 1000 -e IfcSpace IfcOpeningElement my_building.ifc
```

2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ—Ç–æ–∫–æ–≤ CPU –¥–ª—è –±–æ–ª–µ–µ –±—ã—Å—Ç—Ä–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏:
```bash
ifcexport2 -t 4 my_building.ifc
```

3. –£–∫–∞–∂–∏—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ –≤—ã–≤–æ–¥–∞:
```bash
ifcexport2 -o /path/to/output/converted_model my_building.ifc
```

4. –ü–æ–∫–∞–∂–∏—Ç–µ –ø—Ä–æ–≥—Ä–µ—Å—Å –æ–±—Ä–∞–±–æ—Ç–∫–∏:
```bash
ifcexport2 -p my_building.ifc
```

### –í—ã—Ö–æ–¥–Ω—ã–µ —Ñ–∞–π–ª—ã

–î–ª—è –∫–∞–∂–¥–æ–≥–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ IFC –≤ —Ç–æ–π –∂–µ –ø–∞–ø–∫–µ –±—É–¥—É—Ç —Å–æ–∑–¥–∞–Ω—ã –¥–≤–∞ —Ñ–∞–π–ª–∞:

1. `*.viewer.json`: –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–Ω—ã–π —Ñ–∞–π–ª, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å –≤ –ø—Ä–æ–≥—Ä–∞–º–º—É –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ CXM.
2. `*.fails`: JSON-—Ñ–∞–π–ª, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π —Å–ø–∏—Å–æ–∫ –æ–±—ä–µ–∫—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ —É–¥–∞–ª–æ—Å—å —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å (–µ—Å–ª–∏ —Ç–∞–∫–æ–≤—ã–µ –∏–º–µ—é—Ç—Å—è).

### –û–ø—Ü–∏–∏ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏

–ß—Ç–æ–±—ã –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –æ–ø—Ü–∏–∏:
```bash
ifcexport2 --help
```

–û—Å–Ω–æ–≤–Ω—ã–µ –æ–ø—Ü–∏–∏ –≤–∫–ª—é—á–∞—é—Ç:
- `-s`, `--scale`: –ú–∞—Å—à—Ç–∞–±–Ω—ã–π –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –¥–ª—è –º–æ–¥–µ–ª–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 1.0)
- `-e`, `--exclude`: –¢–∏–ø—ã IFC, –∫–æ—Ç–æ—Ä—ã–µ —Å–ª–µ–¥—É–µ—Ç –∏—Å–∫–ª—é—á–∏—Ç—å –∏–∑ –æ–±—Ä–∞–±–æ—Ç–∫–∏
- `-t`, `--threads`: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Ç–æ–∫–æ–≤ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è
- `-o`, `--output-prefix`: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–µ—Ñ–∏–∫—Å –≤—ã—Ö–æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
- `-p`, `--print`: –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å –≤–æ –≤—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏
- `--no-save-fails`: –ù–µ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –Ω–µ—É–¥–∞—á–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–∞—Ö
- `--json-output`: –í—ã–≤–æ–¥–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON (–ø–æ–ª–µ–∑–Ω–æ –¥–ª—è —Å–∫—Ä–∏–ø—Ç–æ–≤).

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

1. –ï—Å–ª–∏ –í—ã –≤–∏–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ ¬´–∫–æ–º–∞–Ω–¥–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞¬ª:
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –í—ã –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–ª–∏ —Å–≤–æ–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ (–µ—Å–ª–∏ –æ–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è).
   - –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å –ø–æ–º–æ—â—å—é python: `python -m ifcexport2.ifc_to_mesh ...`.

2. –ï—Å–ª–∏ –í—ã –ø–æ–ª—É—á–∞–µ—Ç–µ –æ—à–∏–±–∫–∏ –∏–º–ø–æ—Ä—Ç–∞:
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ª–∏ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: `pip install -r requirements.txt`.
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –í—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Python 3.10 –∏–ª–∏ –Ω–æ–≤–µ–µ: `python --version`.

3. –î–ª—è –æ—à–∏–±–æ–∫ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≥–µ–æ–º–µ—Ç—Ä–∏–∏:
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª `.fails` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± –æ—à–∏–±–∫–∞—Ö.
   - –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥–æ–π –º–∞—Å—à—Ç–∞–±–Ω—ã–π –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —Å –ø–æ–º–æ—â—å—é `-s`.
